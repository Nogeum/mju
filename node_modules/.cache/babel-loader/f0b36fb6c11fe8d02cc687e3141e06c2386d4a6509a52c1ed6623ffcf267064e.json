{"ast":null,"code":"import _slicedToArray from\"/Users/jeon/Desktop/23-1/\\u110F\\u1162\\u11B8\\u1109\\u1173\\u1110\\u1169\\u11AB\\u1103\\u1175\\u110C\\u1161\\u110B\\u1175\\u11AB/mju/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import styles from'./DetailReview.module.css';import{useParams}from'react-router-dom';import ReactStars from'react-stars';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DetailReview(_ref){var name=_ref.name;//리뷰 제출\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var changeInputValue=function changeInputValue(e){setInputValue(e.target.value);};var sendData=function sendData(){axios.post('',{inputValue:inputValue}).then(function(response){return console.log(response.data);}).catch(function(Error){console.log(Error.response.data);});};//리뷰 사진업로드\n// 해당식당의 리뷰출력\nvar param=useParams();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dataList=_useState4[0],setDataList=_useState4[1];var loadData=function loadData(){var category=param.category;console.log('NEW',category);axios.get('http://3.34.2.11:8082/api/images').then(function(response){var result=response.data.filter(function(item){return item.name===name;});setDataList(result);}).catch(function(err){return console.error(err);});};useEffect(function(){loadData();},[param.category]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.review_container,children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:changeInputValue,value:inputValue,className:styles.review_container2,spellCheck:\"false\",placeholder:\"\\uC194\\uC9C1\\uD55C \\uB9AC\\uBDF0\\uB97C \\uB0A8\\uACA8\\uBCF4\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.button,onClick:sendData,children:\"\\uB9AC\\uBDF0 \\uC4F0\\uAE30\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.total,children:[\"\\uCD5C\\uADFC \\uB9AC\\uBDF0 (\",dataList.length,\")\"]}),/*#__PURE__*/_jsx(\"section\",{className:styles.section,children:dataList.map(function(dataList){return/*#__PURE__*/_jsxs(\"div\",{className:styles.review_container3,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.id,children:dataList.userId}),/*#__PURE__*/_jsx(ReactStars,{count:5,value:dataList.rate,edit:false,size:20}),/*#__PURE__*/_jsx(\"img\",{className:styles.img,src:dataList.image,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.contents,children:dataList.contents})]});})})]})});}","map":{"version":3,"names":["axios","React","useState","useEffect","styles","useParams","ReactStars","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DetailReview","_ref","name","_useState","_useState2","_slicedToArray","inputValue","setInputValue","changeInputValue","e","target","value","sendData","post","then","response","console","log","data","catch","Error","param","_useState3","_useState4","dataList","setDataList","loadData","category","get","result","filter","item","err","error","children","className","review_container","onChange","review_container2","spellCheck","placeholder","button","onClick","total","length","section","map","review_container3","id","userId","count","rate","edit","size","img","src","image","alt","contents"],"sources":["/Users/jeon/Desktop/23-1/캡스톤디자인/mju/src/components/DetailReview/DetailReview.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport styles from './DetailReview.module.css';\nimport { useParams } from 'react-router-dom';\nimport ReactStars from 'react-stars';\n\nexport default function DetailReview({ name }) {\n  //리뷰 제출\n  const [inputValue, setInputValue] = useState();\n\n  const changeInputValue = (e) => {\n    setInputValue(e.target.value);\n  };\n  const sendData = () => {\n    axios\n      .post('', {\n        inputValue,\n      })\n      .then((response) => console.log(response.data))\n      .catch((Error) => {\n        console.log(Error.response.data);\n      });\n  };\n  //리뷰 사진업로드\n\n  // 해당식당의 리뷰출력\n  const param = useParams();\n  const [dataList, setDataList] = useState([]);\n  const loadData = () => {\n    const category = param.category;\n    console.log('NEW', category);\n    axios\n      .get('http://3.34.2.11:8082/api/images')\n      .then((response) => {\n        const result = response.data.filter((item) => item.name === name);\n        setDataList(result);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  useEffect(() => {\n    loadData();\n  }, [param.category]);\n\n  return (\n    <>\n      <div className={styles.review_container}>\n        <textarea\n          onChange={changeInputValue}\n          value={inputValue}\n          className={styles.review_container2}\n          spellCheck='false'\n          placeholder='솔직한 리뷰를 남겨보세요.'\n        ></textarea>\n        <button className={styles.button} onClick={sendData}>\n          리뷰 쓰기\n        </button>\n        <p className={styles.total}>최근 리뷰 ({dataList.length})</p>\n        <section className={styles.section}>\n          {dataList.map((dataList) => (\n            <div className={styles.review_container3}>\n              <p className={styles.id}>{dataList.userId}</p>\n              <ReactStars\n                count={5}\n                value={dataList.rate}\n                edit={false}\n                size={20}\n              />\n              <img className={styles.img} src={dataList.image} alt='' />\n              <p className={styles.contents}>{dataList.contents}</p>\n            </div>\n          ))}\n        </section>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}